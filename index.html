<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dalbit EPS-Style UBT Simulator</title>
  
  <link rel="manifest" href="manifest.json">
  <link rel="apple-touch-icon" href="icon.png">

  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">

<style>
  body {
    font-family: 'Noto Sans KR', sans-serif;
  }
</style>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dalbit EPS-Style UBT Simulator</title>

  <style>
    :root {
      --navy: #000080;
      --gold: #E1AD01;
      --light-blue: #eef3ff;
      --correct: #28a745;
      --wrong: #dc3545;
    }

    body {
      margin: 0;
      font-family: 'Malgun Gothic', Arial, sans-serif;
      background: #f4f6fb;
      overflow: hidden; /* Iwas scroll sa buong page */
    }

    header { background: var(--navy); color: white; padding: 6px 15px; display: flex; align-items: center; }
    header img { width: 70px; margin-right: 12px; }
    header h1 { font-size: 23px; color: #E1AD01; margin: 0; flex: 1; text-align: center; }

    .sub-header { background: #E1AD01; color: var(--navy); text-align: center; font-weight: bold; padding: 3px; font-size: 15px; }

    .container { max-width: 800px; margin: 8px auto; background: white; padding: 12px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }

    .top-bar { display: flex; justify-content: space-between; margin-bottom: 8px; font-weight: bold; font-size: 13px; border-bottom: 1px solid #eee; padding-bottom: 5px; }

    /* Question Styling */
    .question-box { min-height: 260px; }
    #question { font-size: 17px; margin: 5px 0; line-height: 1.5; }
    
    /* Underline style - Simple at natural */
    u { text-decoration: underline; text-underline-offset: 4px; text-decoration-thickness: 2px; }

    .follow-up { font-weight: bold; font-size: 17px; color: black; display: block; margin: 4px 0; }
    .keyword { color: var(--navy); font-size: 15px; font-weight: bold; display: block; }

    #qImage { 
  max-height: 250px; /* Dinagdagan mula 120px para mas malinaw */
  width: auto; 
  display: block; 
  margin: 1px auto; 
  border-radius: 2px; 
}

    /* Compact 2x2 Grid para sa Choices */
    .choices { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin-top: 10px; }
    .choices span { 
      display: block; cursor: pointer; font-size: 16px; padding: 12px; 
      border: 1px solid #ccc; border-radius: 6px; background: #fff; transition: 0.1s; 
    }
    .choices span:hover { background: var(--light-blue); }
   .choices span img { 
  width: 100%; 
  max-width: 180px; /* Dinagdagan mula 100px para sa Listening options */
  display: block; 
  margin: 1px auto; 
}

    .selected { background: var(--navy) !important; color: #E1AD01 !important; font-weight: bold; border-color: var(--navy) !important; }

    /* Audio UI */
    .audio-ui { background: #f1f3f5; padding: 5px; border-radius: 5px; margin-bottom: 8px; text-align: center; }
    audio { height: 28px; width: 100%; }
    .audio-msg { font-size: 11px; color: crimson; font-weight: bold; }

    .nav-buttons { display: flex; gap: 8px; margin-top: 12px; }
    button { flex: 1; padding: 10px; border: none; border-radius: 6px; font-weight: bold; cursor: pointer; }
    .prev, .next { background: var(--navy); color: white; }
    .submit { background: #E1AD01; color: var(--navy); width: 100%; margin-top: 8px; }

    /* Review Area */
    #reviewArea { display: none; margin-top: 10px; border-top: 2px solid var(--navy); padding-top: 10px; max-height: 400px; overflow-y: auto; }
    .review-item { padding: 8px; border-left: 4px solid #ccc; margin-bottom: 5px; background: #f9f9f9; font-size: 13px; }
    .correct-card { border-left-color: var(--correct); background: #e9f7ef; }
    .wrong-card { border-left-color: var(--wrong); background: #fdf2f2; }
  </style>
</head>

<body>
<div id="startScreen" style="position:fixed; top:0; left:0; width:100%; height:100%; background: #FFF9E3 ; display:flex; flex-direction:column; justify-content:center; align-items:center; z-index:1000;">
  
  <div style="display: flex; flex-direction: column; align-items: center; background: var--navy; padding: 50px 60px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); width: fit-content; text-align: center; border: 2px solid #E1AD01;">
    
    <img src="https://uploads.onecompiler.io/44bzqanza/44bzq9w9h/Dalbit%20Logo-Circle.png" style="width:120px; margin-bottom:20px;">
    
    <h1 style="color: var(--navy); margin-bottom: 10px; font-size: 28px;">DALBIT KLC</h1>
    <h2 style="color: #555; margin-bottom: 30px; font-size: 20px; font-weight: bold;">EPS-TOPIK Style UBT Simulator</h2>
    
    <button onclick="startQuiz()" style="
        padding: 18px 60px; 
        font-size: 22px; 
        background: var(--gold); 
        color: var(--navy);
        border: none; 
        border-radius: 12px; 
        cursor: pointer; 
        font-weight: bold;
        transition: transform 0.2s;
        box-shadow: 0 4px 15px rgba(255, 215, 0, 0.4);
    " onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
      START EXAM
    </button>
    
    <p style="margin-top:25px; font-size:15px; color: #777; font-weight: bold;">
      Click START EXAM to begin
    </p>
  </div>
</div>
<header>
  <img src="https://uploads.onecompiler.io/44bzqanza/44bzq9w9h/Dalbit%20Logo-Circle.png">
  <h1>DALBIT KOREAN LANGUAGE CENTER</h1>
</header>
<div class="sub-header">DALBIT EPS-TOPIK - UBT Simulator</div>

<div class="container">
  <div class="top-bar">
    <div id="counter">Question 1 / 40</div>
    <div id="timer">â± 50:00</div>
  </div>

  <div class="question-box" id="quizContent">
    <div id="audioBox" class="audio-ui" style="display:none;">
      <div id="audioMsg" class="audio-msg">ğŸ”Š Audio will play 2 times</div>
      <audio id="audioPlayer" controls></audio>
    </div>

    <div id="question">Loading...</div>
    <div id="qExtras"></div>
    <img id="qImage" style="display:none;">
    <div class="choices" id="choices"></div>
  </div>

  <div class="nav-buttons" id="navBtns">
    <button class="prev" onclick="changeQ(-1)">â¬… Prev</button>
    <button class="next" onclick="changeQ(1)">Next â¡</button>
  </div>

  <button class="submit" id="submitBtn" onclick="submitExam()">âœ… Submit Exam</button>

  <div id="reviewArea">
    <h3 id="finalScore" style="text-align:center;"></h3>
    <div id="reviewList"></div>
    <button class="next" onclick="location.reload()" style="width:100%">RETAKE EXAM</button>
  </div>
</div>

<script>
const questions = [
  {
    type:"reading",
    q:"[ë‹¤ìŒ ê·¸ë¦¼ì„ ë³´ê³  ì•Œë§ì€ ê²ƒì„ ê³ ë¥´ì‹­ì‹œì˜¤].",
    followUp:"1.",
    image:"https://uploads.onecompiler.io/44bzqanza/44bzq9w9h/Resize%20image%20project.png",
    options:["ë³¼íœì…ë‹ˆë‹¤.","ê°€ìœ„ì…ë‹ˆë‹¤.","ì•ˆê²½ì…ë‹ˆë‹¤.","ê°€ë°©ì…ë‹ˆë‹¤."],
    answer:3
  },
  {
    type:"reading",
    q:"[ë‹¤ìŒ ê·¸ë¦¼ì„ ë³´ê³  ì•Œë§ì€ ê²ƒì„ ê³ ë¥´ì‹­ì‹œì˜¤.]",
    followUp:"2.",
    image:"https://uploads.onecompiler.io/44bzqanza/44bzq9w9h/Resize%20image%20project%20(1).png",
    options:["ì§€ê²Œì°¨ì…ë‹ˆë‹¤.","êµ´ì°©ê¸°ì…ë‹ˆë‹¤.","íŠ¸ë™í„°ì…ë‹ˆë‹¤.","ê²½ìš´ê¸°ì…ë‹ˆë‹¤."],
    answer:0
  },
  {
    type:"reading",
    q:"[ë‹¤ìŒ ê·¸ë¦¼ì„ ë³´ê³  ì•Œë§ì€ ê²ƒì„ ê³ ë¥´ì‹­ì‹œì˜¤.]",
    followUp:"3.",
    image:"https://uploads.onecompiler.io/44bzqanza/44bzq9w9h/Resize%20image%20project%20(2).png",
    options:["ì±…ì„ ì½ê³  ìˆìŠµë‹ˆë‹¤.","ë°¥ì„ ë¨¹ê³  ìˆìŠµë‹ˆë‹¤.","ì¹œêµ¬ë¥¼ ë§Œë‚˜ê³  ìˆìŠµë‹ˆë‹¤.","í”¼ì•„ë…¸ë¥¼ ì¹˜ê³  ìˆìŠµë‹ˆë‹¤."],
    answer:3
  },
  {
    type:"reading",
    q:"[ë‹¤ìŒ ê·¸ë¦¼ì„ ë³´ê³  ì•Œë§ì€ ê²ƒì„ ê³ ë¥´ì‹­ì‹œì˜¤.]",
    followUp:"4.",
    image:"https://uploads.onecompiler.io/44bzqanza/44bzq9w9h/Resize%20image%20project%20(3).png",
    options:["ì „ê¸°ê°€ íë¥´ë‹ˆê¹Œ ì¡°ì‹¬í•˜ì„¸ìš”.","ë–¨ì–´ì§ˆ ìˆ˜ ìˆìœ¼ë‹ˆê¹Œ ì¡°ì‹¬í•˜ì„¸ìš”.","ë°”ë‹¥ì´ ë¯¸ë„ëŸ¬ìš°ë‹ˆê¹Œ ì¡°ì‹¬í•˜ì„¸ìš”.","ë¶ˆì´ ë¶™ì„ ìˆ˜ ìˆìœ¼ë‹ˆê¹Œ ì¡°ì‹¬í•˜ì„¸ìš”."],
    answer:1
  },
  {
    type:"reading",
    q:"[ë‹¤ìŒ ì¤‘ ë°‘ì¤„ ì¹œ ë¶€ë¶„ì´ ë§ëŠ” ê²ƒì€ ë¬´ì—‡ì…ë‹ˆê¹Œ?]",
    followUp:"5.", 
    options:["ì§‘<u>ì„</u> ì‘ì•„ìš”.","ë”¸ê¸°<u>ê°€</u>ë¨¹ì–´ìš”.","íšŒì‚¬<u>ì—</u> ë‹¤ë…€ìš”.","ê²¨ìš¸<u>ì—ì„œ</u> ì¶”ì›Œìš”."],
    answer:2
  },
  {
    type:"reading",
    q:"[ë‹¤ìŒ ì¤‘ ë°‘ì¤„ ì¹œ ë¶€ë¶„ì´ ë§ëŠ” ê²ƒì€ ë¬´ì—‡ì…ë‹ˆê¹Œ?]",
    followUp:"6.", 
    options:["í‡´ê·¼í•  ë•Œ ë¬¸ì„ <u>ë‹¬ìœ¼ì„¸ìš”</u>.","ì¹œêµ¬í•œí…Œì„œ ì„ ë¬¼ì„ <u>ë°›ì•˜ì–´ìš”</u>.","ì‹¬ì‹¬í•˜ë©´ í•œêµ­ ë…¸ë˜ë¥¼ <u>ë“£ì–´ìš”</u>.","ì˜¤ëŠ˜ ì‹œë‚´ì—ì„œ ë§ì´ <u>ê±·ì—ˆì–´ìš”</u>."],
    answer:1
  },
  {
    type:"reading",
    q:"[ë‹¤ìŒ ê¸€ì„ ì½ê³  ë¬¼ìŒì— ë‹µí•˜ì‹­ì‹œì˜¤.]",
    followUp:"7. ì´ ë³‘ì›ì´ ë¬¸ì„ ì—¬ëŠ” ì‹œê°„ì€ ì–¸ì œì…ë‹ˆê¹Œ?",
    image:"https://uploads.onecompiler.io/44bzqanza/44bzq9w9h/card.jpg",
    options:["ë¶€ì²œì‹œì…ë‹ˆë‹¤.","ê¹€ë¯¸ì†Œì…ë‹ˆë‹¤.","íŠ¼íŠ¼ì¹˜ê³¼ì…ë‹ˆë‹¤.","ì˜¤ì „ ì•„í™‰ ì‹œì…ë‹ˆë‹¤."],
    answer:3
  },
  {
    type:"reading",
    q:"[ë‹¤ìŒ ë‹¨ì–´ì™€ ê´€ê³„ìˆëŠ” ê²ƒì€ ë¬´ì—‡ì…ë‹ˆê¹Œ?]",
    followUp:"8.", 
    keyword:"(ë³µì¥)",
    options:["ì»´í“¨í„°","ì‘ì—…ë³µ","ë¹„ë¹”ë°¥","ê¸°ì°¨í‘œ"],
    answer:1
  },
  {
    type:"reading",
    q:"[ë‹¤ìŒ ë‹¨ì–´ì™€ ê´€ê³„ìˆëŠ” ê²ƒì€ ë¬´ì—‡ì…ë‹ˆê¹Œ?]",
    keyword:"9.", 
    keyword:"(ì‘ì—…ì¥)",
    options:["ê·¼ë¡œìê°€ ì¼í•˜ëŠ” ê³³ì´ì—ìš”.","ê·¼ë¡œìê°€ ê±°ì£¼í•˜ëŠ” ê³³ì´ì—ìš”.","ê·¼ë¡œìê°€ ìš´ë™í•˜ëŠ” ê³³ì´ì—ìš”.","ê·¼ë¡œìê°€ ìƒë‹´í•˜ëŠ” ê³³ì´ì—ìš”."],
    answer:0
  },
  {
    type:"reading",
    q:" ",
    followUp:"10. í•œêµ­ì˜ ìˆ˜ì‚°ë¬¼ ìˆ˜ì… í˜„í™©ì— ëŒ€í•œ ì„¤ëª…ìœ¼ë¡œ ë§ëŠ” ê²ƒì€ ë¬´ì—‡ì…ë‹ˆê¹Œ?",
    image:"https://uploads.onecompiler.io/44bzqanza/44bzq9w9h/graph.jpg",
    options:["í•œêµ­ì€ ìˆ˜ì‚°ë¬¼ì„ ì¤‘êµ­ì—ì„œ ê°€ì¥ ë§ì´ ìˆ˜ì…í•©ë‹ˆë‹¤.","í•œêµ­ì´ ìˆ˜ì…í•˜ëŠ” ìˆ˜ì‚°ë¬¼ ì¤‘ ë² íŠ¸ë‚¨ì‚°ì€ 5% ë¯¸ë§Œì…ë‹ˆë‹¤.","í•œêµ­ì´ ìˆ˜ì‚°ë¬¼ì„ ìˆ˜ì…í•˜ëŠ” êµ­ê°€ ì¤‘ 2ìœ„ëŠ” ë…¸ë¥´ì›¨ì´ì…ë‹ˆë‹¤.","í•œêµ­ì€ ë¯¸êµ­ë³´ë‹¤ ëŸ¬ì‹œì•„ì—ì„œ ìˆ˜ì‚°ë¬¼ì„ ë” ë§ì´ ìˆ˜ì…í•©ë‹ˆë‹¤."],
    answer:3
  },
  {
    type:"reading",
    q:"[ë¹ˆì¹¸ì— ë“¤ì–´ê°ˆ ê°€ì¥ ì•Œë§ì€ ê²ƒì„ ê³ ë¥´ì‹­ì‹œì˜¤.]",
    followUp:"11. ì§€ê¸‰ ë°©ë²•:_______",
    options:["ê°€ì¡± ëª¨ì„","ìƒì¼ ì„ ë¬¼","ì¶œê·¼ ì‹œê°„","í†µì¥ ì…ê¸ˆ"],
    answer:3
  },
  {
    type:"reading",
    q:"",
    followUp:"12. í•œêµ­ì–´ë¥¼ ë°°ìš°ê³  ì‹¶ì§€ë§Œ í•™ì›ì— ê°ˆ ì‹œê°„ì´ ì—†ìŠµë‹ˆë‹¤. ê·¸ë˜ì„œ í‡´ê·¼ í›„ì— ì¸í„°ë„· ê°•ì˜ë¥¼ í•œêµ­ì–´ë¥¼ __________ ê³µë¶€í•˜ê³  ìˆìŠµë‹ˆë‹¤.",
    options:["ë“£ëŠë¼ê³ ","ë“¤ìœ¼ë ¤ê³ ","ë“¤ìœ¼ë©´ì„œ","ë“£ìë§ˆì"],
    answer:2
  },
  {
    type:"reading",
    q:"",
    followUp:"13. ì˜¤ëŠ˜ì€ ë‹¤ë¥¸ ë‚ ë³´ë‹¤ ê¸¸ì´ ë§ì´ ë§‰í™ë‹ˆë‹¤. ______________ ê°€ì§€ ì•Šìœ¼ë©´ íšŒì‚¬ì— ëŠ¦ì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤.",
    options:["ì¡°ì‹¬í•˜ê²Œ","ì¡°ì‹¬í•´ì„œ","ì„œë‘ë¥´ê²Œ","ì„œë‘˜ëŸ¬ì„œ"],
    answer:3
  },
  {
    type:"reading",
    q:"",
    followUp:"14. ì˜¤ëŠ˜ì€ ë‚ ì”¨ê°€ ë„ˆë¬´ ë¥ìŠµë‹ˆë‹¤. ì§‘ì— ì˜¤ìë§ˆì ì„ í’ê¸°ë¥¼ __________ ì‹œì›í•œ ë¬¼ì„ ë§ˆì…¨ìŠµë‹ˆë‹¤.",
    options:["í‹€ë©´","í‹€ê³ ","í‹€ë ¤ë©´","í‹€ë ¤ê³ "],
    answer:1
  },
  {
    type:"reading",
    q:"",
    followUp:"15. ëª»ì— ì°”ë ¸ì„ ë•ŒëŠ” ìƒì²˜ê°€ ê°€ë²¼ì›Œë„ ë°”ë¡œ ì†Œë…ì„ í•´ì•¼ í•©ë‹ˆë‹¤. ê·¸ë¦¬ê³  ë³‘ì›ì— ê°€ì„œ ì§„ë£Œë¥¼ ë°›ê³  ì£¼ì‚¬ë¥¼ ______________.",
    options:["ë§ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤","ë†“ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤","ë§ì§€ ì•Šë„ë¡ í•©ë‹ˆë‹¤","ë†“ì§€ ì•Šë„ë¡ í•©ë‹ˆë‹¤"],
    answer:0
  },
  {
    type:"reading",
    q:"",
    followUp:"16. ì–´ë‘ìš´ ê³³ì—ì„œ ì‘ì—…í•  ë•ŒëŠ” ê°€ì‹œì„±ì´ ë†’ì€ ______________. ì´ê²ƒì„ ì…ìœ¼ë©´ ë©€ë¦¬ì„œë„ ì˜ ë³´ì—¬ ì‚¬ê³ ë¥¼ ë§‰ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.",
    options:["ë°˜ì‚¬ ì¡°ë¼ë¥¼ ì°©ìš©í•´ì•¼ í•©ë‹ˆë‹¤","ë³´í˜¸ ì¥ê°‘ì„ êµ¬ë§¤í•´ì•¼ í•©ë‹ˆë‹¤","ë¹„ìƒ ê³„ë‹¨ì„ ì´ìš©í•´ì•¼ í•©ë‹ˆë‹¤","í™˜ê¸° ì¥ì¹˜ë¥¼ ì‘ë™í•´ì•¼ í•©ë‹ˆë‹¤"],
    answer:0
  },
  {
    type:"reading",
    q:"[ë‹¤ìŒ ì„¤ëª…ì— ì•Œë§ì€ ì–´íœ˜ë¥¼ ê³ ë¥´ì‹­ì‹œì˜¤.]",
    followUp: "17. ì†ì— ì¥ê³  ì² ì‚¬ë¥¼ ëŠê±°ë‚˜ êµ¬ë¶€ë¦´ ë•Œ ì“°ëŠ” ë„êµ¬ì…ë‹ˆë‹¤. ì „ì„ ì´ë‚˜ ì‘ì€ ë¶€í’ˆì„ ì¡ì„ ë•Œë„ ì‚¬ìš©í•©ë‹ˆë‹¤.",
    options:["í† ì¹˜","íœì¹˜","ì‡ í†±","ë§ì¹˜"],
    answer:1
  },
  {
    type:"reading",
    q:"[ë‹¤ìŒ ê¸€ì„ ì½ê³  ë¬´ì—‡ì— ëŒ€í•œ ê¸€ì¸ì§€ ê³ ë¥´ì‹­ì‹œì˜¤.]",
    followUp: "18. í•œêµ­ ì‚¬ëŒë“¤ì€ ê³„ì ˆë§ˆë‹¤ ì¦ê²¨ ë¨¹ëŠ” ìŒì‹ì´ ìˆìŠµë‹ˆë‹¤. ì—¬ë¦„ì—ëŠ” ì°¨ê°‘ê³  ì‹œì›í•œ ëƒ‰ë©´, ì½©êµ­ìˆ˜, íŒ¥ë¹™ìˆ˜ ë“±ì„ ë§ì´ ë¨¹ìŠµë‹ˆë‹¤. ê²¨ìš¸ì—ëŠ” ëœ¨ê±°ìš´ êµ­ì´ë‚˜ ë”°ëœ»í•œ íŒ¥ì£½, êµ°ê³ êµ¬ë§ˆ, í˜¸ë–¡ ë“±ì„ ìì£¼ ë¨¹ìŠµë‹ˆë‹¤.",
    options:["ê³„ì ˆ ìŒì‹","ìŒì‹ ì¬ë£Œ","ì¡°ë¦¬ ë°©ë²•","ì¡°ë¦¬ ì‹œê¸°"],
    answer:0
  },
  {
    type:"reading",
    q:"[ë‹¤ìŒ ê¸€ì„ ì½ê³  ë‚´ìš©ê³¼ ê°™ì€ ê²ƒì„ ê³ ë¥´ì‹­ì‹œì˜¤.]",
    keyword:"19.",
    image:"https://uploads.onecompiler.io/44cg7rvjp/44cg7rzzv/Picture1.jpg",
    options:["ì‚¬ë‚´ íœ´ê²Œì‹¤ì˜ ì¶œì…ë¬¸ ë¹„ë°€ë²ˆí˜¸ëŠ” ë”°ë¡œ ì—†ìŠµë‹ˆë‹¤. ","íšŒì‚¬ ì§ì›ì€ ëˆ„êµ¬ë‚˜ íœ´ê²Œì‹¤ì„ ì´ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.","íœ´ê²Œì‹¤ ì´ìš© í›„ì—ëŠ” ë¬¸ì„ ì—´ì–´ ë‘ê³  ë‚˜ê°€ì•¼ í•©ë‹ˆë‹¤.","ì ì‹¬ ë„ì‹œë½ì„ ì‹¸ ê°€ì„œ íœ´ê²Œì‹¤ì—ì„œ ë¨¹ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤."],
    answer:1
  },
  {
    type:"reading",
    q:"",
    followUp:"20. í•œêµ­ì—ì„œ ì¼í•˜ëŠ” ì™¸êµ­ì¸ ê·¼ë¡œìëŠ” 4ëŒ€ ì‚¬íšŒë³´í—˜ í˜œíƒì„ ë°›ìŠµë‹ˆë‹¤. 4ëŒ€ ì‚¬íšŒë³´í—˜ ì¤‘ ì‚°ì¬ë³´í—˜ì€ ì‚¬ì—…ì£¼ë§Œ ê°€ì…í•˜ë©´ ë˜ì§€ë§Œ êµ­ë¯¼ì—°ê¸ˆ, ê±´ê°•ë³´í—˜, ê³ ìš©ë³´í—˜ì€ ì‚¬ì—…ì£¼ì™€ ê·¼ë¡œì ëª¨ë‘ ë°˜ë“œì‹œ ê°€ì…í•´ì•¼ í•©ë‹ˆë‹¤. ì™¸êµ­ì¸ ê·¼ë¡œìëŠ” ì§ˆë³‘, ë¶€ìƒ, ìƒí•´, ì‹¤ì—… ë“±ì´ ë°œìƒí•˜ì˜€ì„ ë•Œ ê°€ì…í•œ 4ëŒ€ ë³´í—˜ì˜ ë³´í—˜ê¸ˆì„ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.",
    options:["ì‚¬ì—…ì£¼ëŠ” 4ëŒ€ ì‚¬íšŒë³´í—˜ì— ëª¨ë‘ ê°€ì…í•´ì•¼ í•©ë‹ˆë‹¤.","ì‚°ì¬ë³´í—˜ì€ ê·¼ë¡œìì™€ ì‚¬ì—…ì£¼ê°€ ëª¨ë‘ ê°€ì…í•´ì•¼ í•©ë‹ˆë‹¤.","ì‚¬ì—…ì£¼ëŠ” ì‚¬ê³ ê°€ ë°œìƒí•˜ë©´ ë³´í—˜ê¸ˆì„ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.","ê·¼ë¡œìëŠ” ê°€ì…í•˜ê³  ì‹¶ì€ ë³´í—˜ì„ ì„ íƒí•˜ì—¬ ê°€ì…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤."],
    answer:0
  },
  {
    type:"listening",
    q:"[ë“¤ì€ ê²ƒì„ ê³ ë¥´ì‹­ì‹œì˜¤.]",
    followUp:"(*ëª¨ë“  ë“£ê¸° ë¬¸ì œëŠ” ë‘ ë²ˆì”© ë“¤ë ¤ ë“œë¦½ë‹ˆë‹¤.)",
    keyword:"21.",
    audio:"audio/q21.mp3",
    options:["ê°€êµ¬","ê¸°êµ¬","ê°€ê²Œ","ê±°ê¸°"],
    answer:0
  },
  {
    type:"listening",
    q:"[ë“¤ì€ ê²ƒì„ ê³ ë¥´ì‹­ì‹œì˜¤.]",
    keyword:"22.",
    audio:"audio/q22.mp3",
    options:[" ì ì¬","ì§ì¥","ì ì •","ì •ì „"],
    answer:2
  },
  {
    type:"listening",
    q:"[ë‹¤ìŒì„ ë“£ê³  ë“¤ì€ ë‚´ìš©ê³¼ ê´€ê³„ìˆëŠ” ê·¸ë¦¼ì„ ê³ ë¥´ì‹­ì‹œì˜¤.]",
    keyword:"23",
    audio:"audio/q23.mp3",
    options:["https://uploads.onecompiler.io/44bzqanza/44bzq9w9h/21a.jpg","https://uploads.onecompiler.io/44bzqanza/44bzq9w9h/22b.jpg","https://uploads.onecompiler.io/44bzqanza/44bzq9w9h/23c.jpg","https://uploads.onecompiler.io/44bzqanza/44bzq9w9h/23d.jpg"],
    answer:0
  },
  {
    type:"listening",
    q:"[ë‹¤ìŒì„ ë“£ê³  ë“¤ì€ ë‚´ìš©ê³¼ ê´€ê³„ìˆëŠ” ê·¸ë¦¼ì„ ê³ ë¥´ì‹­ì‹œì˜¤.]",
    keyword:"24.",
    audio:"audio/q24.mp3",
    options:["https://uploads.onecompiler.io/44bzqanza/44bzq9w9h/24a.jpg","https://uploads.onecompiler.io/44bzqanza/44bzq9w9h/24b.jpg","https://uploads.onecompiler.io/44bzqanza/44bzq9w9h/24c.jpg","https://uploads.onecompiler.io/44bzqanza/44bzq9w9h/24d.jpg"],
    answer:1
  },
  {
    type:"listening",
    q:"ë‹¤ìŒ ë¬¸ì¥ì„ ë“£ê³  ì•Œë§ì€ ê²ƒì„ ê³ ë¥´ì„¸ìš”.",
    keyword:"25",
    audio:"audio/q25.mp3",
    options:["https://uploads.onecompiler.io/44bzqanza/44bzq9w9h/25a.jpg","https://uploads.onecompiler.io/44bzqanza/44bzq9w9h/25b.jpg","https://uploads.onecompiler.io/44bzqanza/44bzq9w9h/25c.jpg","https://uploads.onecompiler.io/44bzqanza/44bzq9w9h/25d.jpg"],
    answer:0
  },
  {
    type:"listening",
    q:"ë‹¤ìŒ ë¬¸ì¥ì„ ë“£ê³  ì•Œë§ì€ ê²ƒì„ ê³ ë¥´ì„¸ìš”.",
   keyword:"26.",
    audio:"audio/q26.mp3",
    options:["https://uploads.onecompiler.io/44bzqanza/44bzq9w9h/26a.jpg","https://uploads.onecompiler.io/44bzqanza/44bzq9w9h/26b.jpg","https://uploads.onecompiler.io/44bzqanza/44bzq9w9h/26c.jpg","https://uploads.onecompiler.io/44bzqanza/44bzq9w9h/26d.jpg"],
    answer:0
  },
  {
    type:"listening",
    q:"ë‹¤ìŒ ë¬¸ì¥ì„ ë“£ê³  ì•Œë§ì€ ê²ƒì„ ê³ ë¥´ì„¸ìš”.",
    keyword:"27.",
    audio:"audio/q27.mp3",
    options:["https://uploads.onecompiler.io/44bzqanza/44bzq9w9h/27a.jpg","https://uploads.onecompiler.io/44bzqanza/44bzq9w9h/27b.jpg","https://uploads.onecompiler.io/44bzqanza/44bzq9w9h/27c.jpg","https://uploads.onecompiler.io/44bzqanza/44bzq9w9h/27d.jpg"],
    answer:2
  },
  {
    type:"listening",
    q:"ë‹¤ìŒ ë¬¸ì¥ì„ ë“£ê³  ì•Œë§ì€ ê²ƒì„ ê³ ë¥´ì„¸ìš”.",
    keyword:"28.",
    audio:"audio/q28.mp3",
    options:["https://uploads.onecompiler.io/44bzqanza/44bzq9w9h/28a.jpg","https://uploads.onecompiler.io/44bzqanza/44bzq9w9h/28b.jpg","https://uploads.onecompiler.io/44bzqanza/44bzq9w9h/28c.jpg","https://uploads.onecompiler.io/44bzqanza/44bzq9w9h/28d.jpg"],
    answer:0
  },
  {
    type:"listening",
    q:"ë‹¤ìŒì„ ë“£ê³  ì§ˆë¬¸ì— ì•Œë§ì€ ëŒ€ë‹µì„ ê³ ë¥´ì‹­ì‹œì˜¤.",
    keyword:"29.",
    audio:"audio/q29.mp3",
    optionAudios:[
    "audio/q29a.mp3",
    "audio/q29b.mp3",
    "audio/q29c.mp3",
    "audio/q29d.mp3"],
    options:["ê·¸ëŸ¼ìš”, ë²•ë¥  êµìœ¡ì€ ëª»í•´ìš”.","ì•„ë‹ˆìš”, í•­ìƒ ìˆ˜ì—…ì„ í•˜ê³  ìˆì–´ìš”.","ì•„ë‹ˆìš”, ë²•ë¥  êµìœ¡ì„ ë°›ê³  ìˆì–´ìš”.","ê·¸ëŸ¼ìš”, ìƒë‹´ì„ ë°›ê³  ì‹ ì²­í•˜ë©´ ë¼ìš”."],
    answer:3
  },
  {
    type:"listening",
    q:"ë‹¤ìŒ ë¬¸ì¥ì„ ë“£ê³  ì•Œë§ì€ ê²ƒì„ ê³ ë¥´ì„¸ìš”.",
    keyword:"30.",
    audio:"audio/q30.mp3",
    optionAudios:[
    "audio/q30a.mp3",
    "audio/q30b.mp3",
    "audio/q30c.mp3",
    "audio/q30d.mp3"],
    options:["ë„¤, êµìœ¡ ì¼ì •ì„ ì¢€ ì•Œë ¤ ì£¼ì„¸ìš”.","ë„¤, ì·¨ì—…ì´ ë¹¨ë¦¬ ë¼ì•¼ í•  í…ë°ìš”.","ì•„ë‹ˆìš”, ë‹¤ìŒ ì£¼ë¼ê³  ë“¤ì—ˆëŠ”ë°ìš”.","ì•„ë‹ˆìš”, êµìœ¡ ë‚´ìš©ì´ ì–´ë ¤ì› ì–´ìš”."],
    answer:3
  },
  {
    type:"listening",
    q:"ë‹¤ìŒ ë¬¸ì¥ì„ ë“£ê³  ì•Œë§ì€ ê²ƒì„ ê³ ë¥´ì„¸ìš”.",
    keyword:"31.",
    audio:"audio/q31.mp3",
    optionAudios:[
    "audio/q31a.mp3",
    "audio/q31b.mp3",
    "audio/q31c.mp3",
    "audio/q31d.mp3"],
    options:["ì§‘ì—ì„œ ë“œì„¸ìš”.","ê°ê¸°ì•½ì„ ë“œì„¸ìš”.","ë°¥ì„ ë¨¹ì€ í›„ì— ë“œì„¸ìš”.","ë”°ëœ»í•œ ë¬¼ê³¼ ê°™ì´ ë“œì„¸ìš”."],
    answer:2
  },
  {
    type:"listening",
    q:"ë‹¤ìŒ ë¬¸ì¥ì„ ë“£ê³  ì•Œë§ì€ ê²ƒì„ ê³ ë¥´ì„¸ìš”.",
    keyword:"32.",
    audio:"audio/q32.mp3",
    optionAudios:[
    "audio/q32a.mp3",
    "audio/q32b.mp3",
    "audio/q32c.mp3",
    "audio/q32d.mp3"],
    options:["3ì¸µ íšŒì˜ì‹¤ì—ì„œ í•œë‹¤ê³  ë“¤ì—ˆì–´ìš”.","êµìœ¡ì€ ëˆ„êµ¬ë‚˜ ë°›ì„ ìˆ˜ ìˆì–´ìš”.","ì„±í¬ë¡± ì˜ˆë°© êµìœ¡ì€ ë‘ ì‹œì— ìˆì–´ìš”.","ì„±í¬ë¡± ì˜ˆë°© êµìœ¡ì€ ê¼­ ë“¤ì–´ì•¼ ë¼ìš”."],
    answer:0
  },
  {
    type:"listening",
    q:"ë‹¤ìŒì„ ë“£ê³  ì´ì–´ì§€ëŠ” ë§ì„ ê³ ë¥´ì‹­ì‹œì˜¤.",
    keyword:"33.",
    audio:"audio/q33.mp3",
    optionAudios:[
    "audio/q33a.mp3",
    "audio/q33b.mp3",
    "audio/q33c.mp3",
    "audio/q33d.mp3"],
    options:["ë¹„ìƒêµ¬ê°€ ì–´ë””ì¸ì§€ ê°€ë¥´ì³ ì£¼ì„¸ìš”.","ë¶ˆì´ ë‚˜ìë§ˆì ë°–ìœ¼ë¡œ ëŒ€í”¼í–ˆì–´ìš”.","ì†Œí™”ê¸°ê°€ ìˆì–´ì„œ ë¹¨ë¦¬ ë¶ˆì„ ê»ì–´ìš”.","ë¹„ìƒêµ¬ ìœ„ì¹˜ë¥¼ ì˜ ê¸°ì–µí•´ ë†“ì„ê²Œìš”."],
    answer:3
  },
  {
    type:"listening",
    q:"ë‹¤ìŒì„ ë“£ê³  ë“¤ì€ ë‚´ìš©ê³¼ ê´€ê³„ìˆëŠ” ê·¸ë¦¼ì„ ê³ ë¥´ì‹­ì‹œì˜¤. ",
    keyword:"34.",
    audio:"audio/q34.mp3",
    options: [
    "https://uploads.onecompiler.io/44bzqanza/44bzq9w9h/34a.jpg", 
    "https://uploads.onecompiler.io/44bzqanza/44bzq9w9h/34b.jpg", 
    "https://uploads.onecompiler.io/44bzqanza/44bzq9w9h/34c.jpg", 
    "https://uploads.onecompiler.io/44bzqanza/44bzq9w9h/34d.jpg"  
  ],
       answer:0
  },
  {
    type:"listening",
    q:"ë‹¤ìŒì„ ë“£ê³  ë“¤ì€ ë‚´ìš©ê³¼ ê´€ê³„ìˆëŠ” ê·¸ë¦¼ì„ ê³ ë¥´ì‹­ì‹œì˜¤. ",
    keyword:"35.",
    audio:"audio/q35.mp3",
    options: [
    "https://uploads.onecompiler.io/44bzqanza/44bzq9w9h/35a.jpg", 
    "https://uploads.onecompiler.io/44bzqanza/44bzq9w9h/35b.jpg", 
    "https://uploads.onecompiler.io/44cg7rvjp/44cg7rzzv/35c.jpg", 
    "https://uploads.onecompiler.io/44bzqanza/44bzq9w9h/35d.jpg"  
  ],
    answer:1
  },
  {
    type:"listening",
    q:"ë‹¤ìŒì„ ë“£ê³  ë“¤ì€ ë‚´ìš©ê³¼ ê´€ê³„ìˆëŠ” ê·¸ë¦¼ì„ ê³ ë¥´ì‹­ì‹œì˜¤. ",
    keyword:"36.",
    audio:"audio/q36.mp3",
    options: [
    "https://uploads.onecompiler.io/44bzqanza/44bzq9w9h/36a.jpg", 
    "https://uploads.onecompiler.io/44bzqanza/44bzq9w9h/36b.jpg", 
    "https://uploads.onecompiler.io/44bzqanza/44bzq9w9h/36c.jpg", 
    "https://uploads.onecompiler.io/44bzqanza/44bzq9w9h/36d.jpg"  
  ],
    answer:2
  },
  {
    type:"listening",
    q:"ë‹¤ìŒì„ ë“£ê³  ì§ˆë¬¸ì— ì•Œë§ì€ ëŒ€ë‹µì„ ê³ ë¥´ì‹­ì‹œì˜¤. ",
    keyword:"37. ì•ˆê²½ì€ ì–´ë””ì— ìˆìŠµë‹ˆê¹Œ?",
    audio:"audio/q37.mp3",
    optionAudios:[
    "audio/q37a.mp3",
    "audio/q37b.mp3",
    "audio/q37c.mp3",
    "audio/q37d.mp3"],
    image:"https://uploads.onecompiler.io/44bzqanza/44bzq9w9h/37.jpg",
    options: [
    "ì‹œê³„ ì•„ë˜ì— ìˆìŠµë‹ˆë‹¤.", 
    "ê°€ë°© ì•ˆì— ìˆìŠµë‹ˆë‹¤.", 
    "ì˜ì ë°‘ì— ìˆìŠµë‹ˆë‹¤.", 
    "ì„œë¥˜ ì˜†ì— ìˆìŠµë‹ˆë‹¤."  
  ],
    answer:3
  },
  {
    type:"listening",
     q:"ë‹¤ìŒì„ ë“£ê³  ì§ˆë¬¸ì— ì•Œë§ì€ ëŒ€ë‹µì„ ê³ ë¥´ì‹­ì‹œì˜¤. ",
    keyword:"38. ë‚¨ìê°€ ì´ê³³ì— ì˜¨ ì´ìœ ëŠ” ë¬´ì—‡ì…ë‹ˆê¹Œ?",
    audio:"audio/q38.mp3",
    options: [
    "ë…¸íŠ¸ë¶ ìˆ˜ë¦¬ë¥¼ ë§¡ê¸°ë ¤ê³ ", 
    "ì§€í•˜ì²  í‘œë¥¼ êµ¬ì…í•˜ë ¤ê³ ", 
    "ìƒì–´ë²„ë¦° ê°€ë°©ì„ ì°¾ìœ¼ë ¤ê³ ", 
    "ë‚´ë ¤ì•¼ í•  ì—­ì„ ë¬¼ì–´ë³´ë ¤ê³ "  
  ],
    answer:2
  },
   {
    type:"listening",
     q:"ë‹¤ìŒì„ ë“£ê³  ì§ˆë¬¸ì— ì•Œë§ì€ ëŒ€ë‹µì„ ê³ ë¥´ì‹­ì‹œì˜¤. ",
    keyword:"39. ì ì‹¬ì‹œê°„ ì „ê¹Œì§€ í¬ì¥ ì‘ì—…ì„ ëë‚´ì•¼ í•˜ëŠ” ì´ìœ ëŠ” ë¬´ì—‡ì…ë‹ˆê¹Œ?",
    audio:"audio/q39.mp3",
    options: [
    "ì‘ì—… ì‹œê°„ì´ ë§ì´ ê±¸ë ¤ì„œ", 
    "í¬ì¥í•  ë¬¼ê±´ì´ ë„ˆë¬´ ë§ì•„ì„œ", 
    "ì˜¤í›„ì— ë¼ë²¨ì„ ë¶™ì—¬ì•¼ í•´ì„œ", 
    "ì˜¤í›„ì— ì œí’ˆì„ ì¶œê³ í•´ì•¼ í•´ì„œ"  
  ],
    answer:3
  },
   {
    type:"listening",
     q:"ë‹¤ìŒì„ ë“£ê³  ì§ˆë¬¸ì— ì•Œë§ì€ ëŒ€ë‹µì„ ê³ ë¥´ì‹­ì‹œì˜¤. ",
    keyword:"40. ë‹¤ìŒ ì¤‘ ë“¤ì€ ë‚´ìš©ê³¼ ê°™ì€ ê²ƒì€ ë¬´ì—‡ì…ë‹ˆê¹Œ?",
    audio:"audio/q40.mp3",
    options: [
    "ë‚¨ìëŠ” ì—¬ìì™€ ê°™ì€ ê³µì¥ì—ì„œ ì¼í•©ë‹ˆë‹¤.", 
    "ë‚¨ìëŠ” ì•„ì§ ê³µì¥ì¥ë‹˜ì„ ëª» ë§Œë‚¬ìŠµë‹ˆë‹¤.", 
    "ë‚¨ìëŠ” ìƒˆ íšŒì‚¬ ì‚¬ëŒë“¤ì´ ë§ˆìŒì— ë“­ë‹ˆë‹¤.", 
    "ë‚¨ìëŠ” ì´ì „ ê³µì¥ì—ì„œì™€ ê°™ì€ ì¼ì„ í•©ë‹ˆë‹¤."  
  ],
    answer:2
  },

];

// --- APP LOGIC ---
let current = 0;
let answers = new Array(questions.length).fill(null);
let playCount = 0; 
let audioSequence = []; 
let currentAudioIdx = 0; 

function loadQuestion() {
  const q = questions[current];
  const audioBox = document.getElementById("audioBox");
  const player = document.getElementById("audioPlayer");
  const msg = document.getElementById("audioMsg");

  document.getElementById("counter").innerText = `Question ${current + 1} / ${questions.length}`;
  document.getElementById("question").innerHTML = q.q;

  let extrasHTML = "";
  if(q.followUp) extrasHTML += `<span class="follow-up">${q.followUp}</span>`;
  if(q.keyword) extrasHTML += `<span class="keyword">${q.keyword}</span>`;
  document.getElementById("qExtras").innerHTML = extrasHTML;

  const img = document.getElementById("qImage");
  if(q.image) {
    img.src = q.image;
    img.style.display = "block";
  } else {
    img.style.display = "none";
  }

  // --- LISTENING LOGIC UPDATED ---
  if(q.type === "listening") {
    audioBox.style.display = "block";
    currentAudioIdx = 0;
    playCount = 0; 
    audioSequence = [q.audio];
    if(q.optionAudios) audioSequence = audioSequence.concat(q.optionAudios);

    player.src = audioSequence[0];
    player.controls = false; // Itinatago ang play button para hindi ma-click ng user
    msg.innerText = "ğŸ”Š Playing Audio (1/2)";

    player.play().catch(() => {
      msg.innerText = "âš ï¸ Click anywhere to enable audio";
    });

    player.onended = () => {
      currentAudioIdx++;
      if (currentAudioIdx < audioSequence.length) {
        player.src = audioSequence[currentAudioIdx];
        player.play();
      } else {
        playCount++;
        if (playCount < 2) {
          setTimeout(() => {
            currentAudioIdx = 0;
            player.src = audioSequence[0];
            player.play();
            msg.innerText = "ğŸ”Š Playing Audio (2/2)";
          }, 2000); // 2 segundong pagitan bago ang pangalawang play
        } else {
          msg.innerText = "ğŸš« Audio Finished (No Replay Allowed)";
          player.src = ""; // Tinatanggal ang source para hindi na ma-play ulit
          player.controls = false; // Sinisiguradong tago ang controls
        }
      }
    };
  } else {
    audioBox.style.display = "none";
    player.pause();
    player.src = "";
    player.onended = null;
  }

  const choicesDiv = document.getElementById("choices");
  choicesDiv.innerHTML = "";
  q.options.forEach((opt, i) => {
    const btn = document.createElement("span");
    btn.innerHTML = `${i+1}. ${opt.includes("http") ? `<img src="${opt}">` : opt}`;
    if (answers[current] === i) btn.classList.add("selected");
    btn.onclick = () => {
      answers[current] = i;
      loadQuestion();
    };
    choicesDiv.appendChild(btn);
  });
}

function changeQ(dir) {
  let newIdx = current + dir;
  if(newIdx >= 0 && newIdx < questions.length) {
    current = newIdx;
    loadQuestion();
  }
}

function submitExam() {
  if(!confirm("Submit Exam?")) return;
  document.getElementById("quizContent").style.display = "none";
  document.getElementById("navBtns").style.display = "none";
  document.getElementById("submitBtn").style.display = "none";
  document.getElementById("reviewArea").style.display = "block";
  let score = 0;
  const list = document.getElementById("reviewList");
  list.innerHTML = "";
  questions.forEach((q, i) => {
    const isCorrect = answers[i] === q.answer;
    if(isCorrect) score++;
    const item = document.createElement("div");
    item.className = `review-item ${isCorrect ? 'correct-card' : 'wrong-card'}`;
    item.innerHTML = `<b>Q${i+1}:</b> ${q.q}<br><small>Correct: ${q.options[q.answer]}</small>`;
    list.appendChild(item);
  });
  document.getElementById("finalScore").innerText = `Score: ${score} / ${questions.length}`;
}

let timeLeft = 50 * 60;
setInterval(() => {
  if(timeLeft > 0) {
    timeLeft--;
    let m = Math.floor(timeLeft/60);
    let s = timeLeft%60;
    document.getElementById("timer").innerText = `â± ${m}:${s.toString().padStart(2,"0")}`;
  }
}, 1000);

function startQuiz() {
  document.getElementById("startScreen").style.display = "none";
  // Mag-play ng silent sound o i-initialize ang audio
  const player = document.getElementById("audioPlayer");
  player.play().catch(() => {}); 
  loadQuestion();
}
</script>

</body>

</html>

